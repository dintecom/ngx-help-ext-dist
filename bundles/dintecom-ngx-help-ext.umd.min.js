!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common/http"),require("@angular/core"),require("@angular/platform-browser"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/overlay"),require("@angular/cdk/platform"),require("@angular/cdk/portal"),require("@angular/common"),require("@angular/router"),require("@angular/animations"),require("@angular/cdk/coercion")):"function"==typeof define&&define.amd?define("@dintecom/ngx-help-ext",["exports","@angular/common/http","@angular/core","@angular/platform-browser","rxjs","rxjs/operators","@angular/cdk/overlay","@angular/cdk/platform","@angular/cdk/portal","@angular/common","@angular/router","@angular/animations","@angular/cdk/coercion"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).dintecom=t.dintecom||{},t.dintecom["ngx-help-ext"]={}),t.ng.common.http,t.ng.core,t.ng.platformBrowser,t.rxjs,t.rxjs.operators,t.ng.cdk.overlay,t.ng.cdk.platform,t.ng.cdk.portal,t.ng.common,t.ng.router,t.ng.animations,t.ng.cdk.coercion)}(this,(function(t,e,i,o,r,n,s,a,l,h,c,u,p){"use strict";var f=function(){},y=function(){},d=function(){},g=new i.InjectionToken("HELP_EXT_URL"),_=new i.InjectionToken("HELP_EXT_CACHE_LIFETIME"),v=new i.InjectionToken("HELP_EXT_HTTP_HEADERS"),m=function(){function t(t,e,i,o,s,a){if(this._http=e,this._sanitizer=i,this._httpHeaders=a,this.cacheById={},this.requestCacheById={},this.cacheByUid={},this.requestCacheByUid={},this.cacheByUrl={},this.requestCacheByUrl={},t){var l=t.resolve();if("string"==typeof l)this.baseAddress=r.of(l).pipe(n.shareReplay(1));else{if(!r.isObservable(l))throw Error("Not supported helpExtUrlResolver");this.baseAddress=l.pipe(n.shareReplay(1))}}else{if(!o)throw Error("Please, configure helpExtUrl or helpExtUrlResolver");this.baseAddress=r.of(o).pipe(n.shareReplay(1))}this.cacheLifetime=1e3*s}return t.prototype.getArticleById=function(t){var e=this;return this.baseAddress.pipe(n.mergeMap((function(i){return e.cachedGet(e.cacheById,e.requestCacheById,t,i+"/api/Clients/GetArticleById/"+t)})))},t.prototype.getArticleByUid=function(t,e){var i=this;return this.baseAddress.pipe(n.mergeMap((function(o){return i.cachedGet(i.cacheByUid,i.requestCacheByUid,e,o+"/api/Clients/GetArticleByUid?siteOrigin="+encodeURIComponent(t)+"&uid="+encodeURIComponent(e))})))},t.prototype.getArticleByUrl=function(t){var e=this;return this.baseAddress.pipe(n.mergeMap((function(i){return e.cachedGet(e.cacheByUrl,e.requestCacheByUrl,t,i+"/api/Clients/GetArticleByUrl?url="+encodeURIComponent(t))})))},t.prototype.sanitizeContent=function(t){return this._sanitizer.sanitize(i.SecurityContext.HTML,this._sanitizer.bypassSecurityTrustHtml(t))},t.prototype.makeAbsoluteLinks=function(t,e,o){for(var r=(t instanceof i.ElementRef?t.nativeElement:t).getElementsByTagName("a"),n=0;n<r.length;n++){o&&r[n].setAttribute("target",o);var s=r[n].getAttribute("href");/(?:^[a-z][a-z0-9+.-]*:|\/\/)/.test(s)||(s=e+"/"+s,r[n].setAttribute("href",s))}},t.prototype.cachedGet=function(t,e,i,o){var s=this;if(t[i])return t[i].error?r.throwError(t[i].error):r.of(t[i].article);if(e[i])return e[i];var a={};return this._httpHeaders&&(a.headers=this._httpHeaders),e[i]=this._http.get(o,a).pipe(n.map((function(t){return t})),n.tap((function(o){delete e[i],t[i]={article:o}})),n.catchError((function(o){return delete e[i],t[i]={error:o},r.throwError(o)})),n.finalize((function(){setTimeout((function(){return delete t[i]}),s.cacheLifetime)})),n.share()),e[i]},t}();m.decorators=[{type:i.Injectable}],m.ctorParameters=function(){return[{type:d},{type:e.HttpClient},{type:o.DomSanitizer},{type:String,decorators:[{type:i.Inject,args:[g]}]},{type:Number,decorators:[{type:i.Inject,args:[_]}]},{type:void 0,decorators:[{type:i.Inject,args:[v]}]}]};var b={flyoutState:u.trigger("state",[u.state("initial, void, hidden",u.style({opacity:0})),u.transition("* => visible",u.animate("200ms cubic-bezier(0, 0, 0.2, 1)",u.style({opacity:1}))),u.transition("* => hidden",u.animate("100ms cubic-bezier(0, 0, 0.2, 1)",u.style({opacity:0})))])},x=function(){function t(){this.mouseEnter=new i.EventEmitter,this.mouseLeave=new i.EventEmitter,this.afterHidden=new i.EventEmitter,this._visibility="initial"}return t.prototype._onMouseEnter=function(){this.mouseEnter.emit()},t.prototype._onMouseLeave=function(){this.mouseLeave.emit()},t.prototype._onStateDone=function(t){"hidden"!==t.toState||this.isVisible()||this.afterHidden.emit()},t.prototype.show=function(){this._visibility="visible"},t.prototype.hide=function(){this._visibility="hidden"},t.prototype.isVisible=function(){return"visible"===this._visibility},t}();x.decorators=[{type:i.Component,args:[{selector:"help-ext-flyout",template:'<help-ext-article-content class="help-ext-flyout-content" [content]="article?.content"></help-ext-article-content>\n<div class="help-ext-flyout-attachments" *ngIf="article?.attachments?.length">\n  <h2 class="help-ext-flyout-attachments-title">Attachments ({{article.attachments?.length}})</h2>\n  <help-ext-attachment *ngFor="let attachment of article.attachments" [attachment]="attachment"></help-ext-attachment>\n</div>\n',animations:[b.flyoutState],changeDetection:i.ChangeDetectionStrategy.OnPush,host:{class:"help-ext-flyout"}}]}],x.propDecorators={article:[{type:i.Input}],mouseEnter:[{type:i.Output}],mouseLeave:[{type:i.Output}],afterHidden:[{type:i.Output}],_onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],_onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}],_visibility:[{type:i.HostBinding,args:["@state"]}],_onStateDone:[{type:i.HostListener,args:["@state.done",["$event"]]}]};Object.create;function w(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,r,n=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return s}Object.create;
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function E(t,e){return e.some((function(e){var i=t.bottom<e.top,o=t.top>e.bottom,r=t.right<e.left,n=t.left>e.right;return i||o||r||n}))}function C(t,e){return e.some((function(e){var i=t.top<e.top,o=t.bottom>e.bottom,r=t.left<e.left,n=t.right>e.right;return i||o||r||n}))}var R="cdk-overlay-connected-position-bounding-box",O=/([A-Za-z%]+)$/,I=function(){function t(t,e,i,o,n){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new r.Subject,this._resizeSubscription=r.Subscription.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}return Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!1,configurable:!0}),t.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(R),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))},t.prototype.apply=function(){var t,e,i,o;if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();var r,n=this._originRect,s=this._overlayRect,a=this._viewportRect,l=this._containerRect,h=[];try{for(var c=w(this._preferredPositions),u=c.next();!u.done;u=c.next()){var p=u.value,f=this._getOriginPoint(n,l,p),y=this._getOverlayPoint(f,s,p),d=this._getOverlayFit(y,s,a,p);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,f);this._canFitWithFlexibleDimensions(d,y,a)?h.push({position:p,origin:f,overlayRect:s,boundingBoxRect:this._calculateBoundingBoxRect(f,p)}):(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:y,originPoint:f,position:p,overlayRect:s})}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}if(h.length){var g=null,_=-1;try{for(var v=w(h),m=v.next();!m.done;m=v.next()){var b=m.value,x=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);x>_&&(_=x,g=b)}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}},t.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},t.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&B(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(R),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},t.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&this._platform.isBrowser){var t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();var e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}},t.prototype.withScrollableContainers=function(t){return this._scrollables=t,this},t.prototype.withPositions=function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},t.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},t.prototype.withFlexibleDimensions=function(t){return void 0===t&&(t=!0),this._hasFlexibleDimensions=t,this},t.prototype.withGrowAfterOpen=function(t){return void 0===t&&(t=!0),this._growAfterOpen=t,this},t.prototype.withPush=function(t){return void 0===t&&(t=!0),this._canPush=t,this},t.prototype.withLockedPosition=function(t){return void 0===t&&(t=!0),this._positionLocked=t,this},t.prototype.setOrigin=function(t){return this._origin=t,this},t.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},t.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},t.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},t.prototype._getOriginPoint=function(t,e,i){var o,r;if("center"==i.originX)o=t.left+t.width/2;else{var n=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;o="start"==i.originX?n:s}return e.left<0&&(o-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:o,y:r}},t.prototype._getOverlayPoint=function(t,e,i){var o,r;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+o,y:t.y+r}},t.prototype._getOverlayFit=function(t,e,i,o){var r=L(e),n=t.x,s=t.y,a=this._getOffset(o,"x"),l=this._getOffset(o,"y");a&&(n+=a),l&&(s+=l);var h=0-n,c=n+r.width-i.width,u=0-s,p=s+r.height-i.height,f=this._subtractOverflows(r.width,h,c),y=this._subtractOverflows(r.height,u,p),d=f*y;return{visibleArea:d,isCompletelyWithinViewport:r.width*r.height===d,fitsInViewportVertically:y===r.height,fitsInViewportHorizontally:f==r.width}},t.prototype._canFitWithFlexibleDimensions=function(t,e,i){if(this._hasFlexibleDimensions){var o=i.bottom-e.y,r=i.right-e.x,n=S(this._overlayRef.getConfig().minHeight),s=S(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportVertically||null!=n&&n<=o,l=t.fitsInViewportHorizontally||null!=s&&s<=r;return a&&l}return!1},t.prototype._pushOverlayOnScreen=function(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var o=L(e),r=this._viewportRect,n=Math.max(t.x+o.width-r.width,0),s=Math.max(t.y+o.height-r.height,0),a=Math.max(r.top-i.top-t.y,0),l=Math.max(r.left-i.left-t.x,0),h=0,c=0;return h=o.width<=r.width?l||-n:t.x<this._viewportMargin?r.left-i.left-t.x:0,c=o.height<=r.height?a||-s:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:h,y:c},{x:t.x+h,y:t.y+c}},t.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var i=this._getScrollVisibility(),o=new s.ConnectedOverlayPositionChange(t,i);this._positionChanges.next(o)}this._isInitialRender=!1},t.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,i=this._boundingBox.querySelectorAll(this._transformOriginSelector),o=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<i.length;r++)i[r].style.transformOrigin=e+" "+o}},t.prototype._calculateBoundingBoxRect=function(t,e){var i,o,r,n=this._viewportRect,s=this._isRtl();if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)r=n.height-t.y+2*this._viewportMargin,i=n.height-r+this._viewportMargin;else{var a=Math.min(n.bottom-t.y+n.top,t.y),l=this._lastBoundingBoxSize.height;i=2*a,o=t.y-a,i>l&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-l/2)}var h,c,u,p="start"===e.overlayX&&!s||"end"===e.overlayX&&s;if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)u=n.width-t.x+this._viewportMargin,h=t.x-this._viewportMargin;else if(p)c=t.x,h=n.right-t.x;else{a=Math.min(n.right-t.x+n.left,t.x);var f=this._lastBoundingBoxSize.width;h=2*a,c=t.x-a,h>f&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-f/2)}return{top:o,left:c,bottom:r,right:u,width:h,height:i}},t.prototype._setBoundingBoxStyles=function(t,e){var i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));var o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;o.height=p.coerceCssPixelValue(i.height),o.top=p.coerceCssPixelValue(i.top),o.bottom=p.coerceCssPixelValue(i.bottom),o.width=p.coerceCssPixelValue(i.width),o.left=p.coerceCssPixelValue(i.left),o.right=p.coerceCssPixelValue(i.right),"center"===e.overlayX?o.alignItems="center":o.alignItems="end"===e.overlayX?"flex-end":"flex-start","center"===e.overlayY?o.justifyContent="center":o.justifyContent="bottom"===e.overlayY?"flex-end":"flex-start",r&&(o.maxHeight=p.coerceCssPixelValue(r)),n&&(o.maxWidth=p.coerceCssPixelValue(n))}this._lastBoundingBoxSize=i,B(this._boundingBox.style,o)},t.prototype._resetBoundingBoxStyles=function(){B(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},t.prototype._resetOverlayElementStyles=function(){B(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},t.prototype._setOverlayElementStyles=function(t,e){var i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(o){var s=this._viewportRuler.getViewportScrollPosition();B(i,this._getExactOverlayY(e,t,s)),B(i,this._getExactOverlayX(e,t,s))}else i.position="static";var a="",l=this._getOffset(e,"x"),h=this._getOffset(e,"y");l&&(a+="translateX("+l+"px) "),h&&(a+="translateY("+h+"px)"),i.transform=a.trim(),n.maxHeight&&(o?i.maxHeight=p.coerceCssPixelValue(n.maxHeight):r&&(i.maxHeight="")),n.maxWidth&&(o?i.maxWidth=p.coerceCssPixelValue(n.maxWidth):r&&(i.maxWidth="")),B(this._pane.style,i)},t.prototype._getExactOverlayY=function(t,e,i){var o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY){var n=this._document.documentElement.clientHeight;o.bottom=n-(r.y+this._overlayRect.height)+"px"}else o.top=p.coerceCssPixelValue(r.y);return o},t.prototype._getExactOverlayX=function(t,e,i){var o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")){var n=this._document.documentElement.clientWidth;o.right=n-(r.x+this._overlayRect.width)+"px"}else o.left=p.coerceCssPixelValue(r.x);return o},t.prototype._getScrollVisibility=function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:C(t,i),isOriginOutsideView:E(t,i),isOverlayClipped:C(e,i),isOverlayOutsideView:E(e,i)}},t.prototype._subtractOverflows=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(t,e){return t-Math.max(e,0)}),t)},t.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},t.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},t.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},t.prototype._getOffset=function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY},t.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){s.validateHorizontalPosition("originX",t.originX),s.validateVerticalPosition("originY",t.originY),s.validateHorizontalPosition("overlayX",t.overlayX),s.validateVerticalPosition("overlayY",t.overlayY)}))},t.prototype._addPanelClasses=function(t){var e=this;this._pane&&p.coerceArray(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))},t.prototype._clearPanelClasses=function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])},t.prototype._getOriginRect=function(){var t=this._origin;if(t instanceof i.ElementRef)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}},t}();function B(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function S(t){if("number"!=typeof t&&null!=t){var e=P(t.split(O),2),i=e[0],o=e[1];return o&&"px"!==o?null:parseFloat(i)}return t||null}function L(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var M=100,A=function(){function t(t,e,i,o,n,s,a,l){this._cdr=t,this._router=e,this._overlay=i,this._api=o,this._viewportRuler=n,this._document=s,this._platform=a,this._overlayContainer=l,this.alwaysVisible=!0,this.inline=!1,this._onDestroy=new r.Subject}return Object.defineProperty(t.prototype,"article",{get:function(){return this._article},set:function(t){this._article=t,this._cdr.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"articleId",{get:function(){return this._articleId},set:function(t){var e=this;if(this.articleUid)throw Error("Do not use articleId with articleUid");if(this.byLocation)throw Error("Do not use articleId with byLocation");this._articleId!==t&&(this._articleId=t,t&&this._api.getArticleById(t).subscribe((function(t){return e.article=t}),(function(){return e.article=null})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"articleUid",{get:function(){return this._articleUid},set:function(t){var e=this;if(this.articleId)throw Error("Do not use articleUid with articleId");if(this.byLocation)throw Error("Do not use articleUid with byLocation");this._articleUid!==t&&(this._articleUid=t,t&&this._api.getArticleByUid(location.origin,t).subscribe((function(t){return e.article=t}),(function(){return e.article=null})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"byLocation",{get:function(){return this._byLocation},set:function(t){var e,i=this;if(this.articleId)throw Error("Do not use byLocation with articleId");if(this.articleUid)throw Error("Do not use byLocation with articleUid");this._byLocation!==t&&(this._byLocation=t,t?(this.updateFromLocation(),this._routerEventsSubscription=this._router.events.pipe(n.filter((function(t){return t instanceof c.NavigationEnd}))).subscribe((function(){i.updateFromLocation()}))):null===(e=this._routerEventsSubscription)||void 0===e||e.unsubscribe())},enumerable:!1,configurable:!0}),t.prototype._onMouseEnter=function(){this.article&&this.show(M)},t.prototype._onMouseLeave=function(){this.hide(M)},t.prototype.show=function(t){var e=this;clearTimeout(this._hideTimeoutId),clearTimeout(this._showTimeoutId),this._flyoutInstance||(this._showTimeoutId=setTimeout((function(){e._flyoutInstance=e._overlayRef.attach(e._portal).instance,e._flyoutInstance.article=e.article,e._flyoutInstance.mouseEnter.subscribe((function(){return e.show(M)})),e._flyoutInstance.mouseLeave.subscribe((function(){return e.hide(M)})),e._flyoutInstance.show(),e._showTimeoutId=void 0}),t))},t.prototype.hide=function(t){var e=this;clearTimeout(this._hideTimeoutId),clearTimeout(this._showTimeoutId),this._flyoutInstance&&(this._hideTimeoutId=setTimeout((function(){e._hideTimeoutId=void 0,e._flyoutInstance.hide(),e._flyoutInstance.afterHidden.subscribe((function(){e._overlayRef.detach(),e._flyoutInstance=void 0}))}),t))},t.prototype.ngOnInit=function(){this._portal=new l.ComponentPortal(x);var t=new I(this._helpQuestionElement,this._viewportRuler,this._document,this._platform,this._overlayContainer).withFlexibleDimensions(!0).withGrowAfterOpen(!0).withPush(!0).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"center",overlayX:"end",overlayY:"center"},{originX:"end",originY:"center",overlayX:"start",overlayY:"top"},{originX:"start",originY:"center",overlayX:"end",overlayY:"top"},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"}]),e=this._overlay.scrollStrategies.reposition();this._overlayRef=this._overlay.create({positionStrategy:t,scrollStrategy:e,maxWidth:"min(920px, 100vw)",panelClass:"help-ext-panel"})},t.prototype.ngOnDestroy=function(){var t;this._onDestroy.next(),this._onDestroy.complete(),null===(t=this._routerEventsSubscription)||void 0===t||t.unsubscribe()},t.prototype.updateFromLocation=function(){var t=this;this._api.getArticleByUrl(location.origin+location.pathname).subscribe((function(e){return t.article=e}),(function(){return t.article=null}))},t}();A.decorators=[{type:i.Component,args:[{selector:"help-ext",template:'<svg\n  xmlns="http://www.w3.org/2000/svg"\n  height="24"\n  viewBox="0 0 24 24"\n  width="24"\n  class="help-ext-icon"\n  [ngStyle]="{\'font-size\': inline ? \'0.5em\' : \'10px\'}"\n  [class.invisible]="!(alwaysVisible || article)"\n  [class.disabled]="!article"\n  #helpQuestion\n>\n  <path d="M0 0h24v24H0z" fill="none" />\n  <path\n    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"\n  />\n</svg>\n',host:{class:"help-ext"},changeDetection:i.ChangeDetectionStrategy.OnPush}]}],A.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:c.Router},{type:s.Overlay},{type:m},{type:s.ViewportRuler},{type:void 0,decorators:[{type:i.Inject,args:[h.DOCUMENT]}]},{type:a.Platform},{type:s.OverlayContainer}]},A.propDecorators={articleId:[{type:i.Input}],articleUid:[{type:i.Input}],byLocation:[{type:i.Input}],alwaysVisible:[{type:i.Input}],inline:[{type:i.Input}],_helpQuestionElement:[{type:i.ViewChild,args:["helpQuestion",{static:!0}]}],_onMouseEnter:[{type:i.HostListener,args:["mouseenter"]}],_onMouseLeave:[{type:i.HostListener,args:["mouseleave"]}]};var H=function(){function t(t,e,i){this._el=t,this._api=e,this._cdr=i}return Object.defineProperty(t.prototype,"article",{set:function(t){this.content=null==t?void 0:t.content},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"content",{set:function(t){var e=this;this._api.baseAddress.subscribe((function(i){e._el.nativeElement.innerHTML=e._api.sanitizeContent(t),e._api.makeAbsoluteLinks(e._el,i,"_blank"),e._cdr.markForCheck()}))},enumerable:!1,configurable:!0}),t}();H.decorators=[{type:i.Component,args:[{selector:"help-ext-article-content",template:"",changeDetection:i.ChangeDetectionStrategy.OnPush}]}],H.ctorParameters=function(){return[{type:i.ElementRef},{type:m},{type:i.ChangeDetectorRef}]},H.propDecorators={article:[{type:i.Input}],content:[{type:i.Input}]};var D=function(){function t(t,e){this._api=t,this._host=e}return Object.defineProperty(t.prototype,"uid",{set:function(t){var e=this;this._api.getArticleByUid(location.origin,t).subscribe((function(t){return e._host.article=t}),(function(){return e._host.article=null}))},enumerable:!1,configurable:!0}),t}();D.decorators=[{type:i.Directive,args:[{selector:"help-ext-article-content[uid]",exportAs:"helpExtUid"}]}],D.ctorParameters=function(){return[{type:m},{type:H}]},D.propDecorators={uid:[{type:i.Input}]};var X=function(){};X.decorators=[{type:i.Component,args:[{selector:"help-ext-attachment",template:'<a class="help-ext-flyout-attachment" [href]="attachment.url" target="_blank">\n  <svg\n    class="help-ext-flyout-attachment-icon"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 24 24"\n    width="20"\n    height="20"\n  >\n    <path\n      d="M12.76 19.94A5.49 5.49 0 015 12.18l8.76-8.75a3.72 3.72 0 016.34 2.63A3.68 3.68 0 0119 8.68L10.67 17a1.36 1.36 0 01-1.92-1.9l8.34-8.34-1.42-1.41-8.34 8.34a3.36 3.36 0 004.75 4.75l8.35-8.34A5.72 5.72 0 0012.34 2l-8.76 8.77a7.49 7.49 0 0010.59 10.59l7.92-7.93L20.68 12z"\n    />\n  </svg>\n  {{attachment.name}}\n</a>\n',changeDetection:i.ChangeDetectionStrategy.OnPush}]}],X.propDecorators={attachment:[{type:i.Input}]};var T=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[e.helpExtUrlResolver||{provide:d,useValue:null},{provide:g,useValue:e.helpExtUrl},{provide:_,useValue:isNaN(e.cacheLifetimeSecond)?1800:e.cacheLifetimeSecond},{provide:v,useValue:e.httpHeaders},m]}},t}();T.decorators=[{type:i.NgModule,args:[{imports:[h.CommonModule,l.PortalModule,s.OverlayModule],declarations:[A,x,H,X,D],exports:[A,H,X,D],entryComponents:[x]}]}],t.Article=f,t.Attachment=y,t.HELP_EXT_CACHE_LIFETIME_TOKEN=_,t.HELP_EXT_HTTP_HEADERS=v,t.HELP_EXT_URL_TOKEN=g,t.HelpExtComponent=A,t.HelpExtModule=T,t.HelpExtService=m,t.HelpExtUrlResolver=d,t.ɵa=1800,t.ɵb=x,t.ɵc=b,t.ɵd=H,t.ɵe=X,t.ɵf=D,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=dintecom-ngx-help-ext.umd.min.js.map